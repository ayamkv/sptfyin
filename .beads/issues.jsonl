{"id":"sptfyin-0g8","title":"Cache Microlink previews in dash/links to avoid re-fetching on every load","description":"Implement localStorage caching for Microlink API previews on the dashboard to improve UX and reduce API calls.\n\n**Current Problem:**\n- Every page refresh re-fetches ALL previews from Microlink API\n- 3-10 second loading time for users with many links\n- Wastes API quota on unchanged links\n\n**Proposed Solution:**\n- Cache preview data in localStorage keyed by link ID\n- Store: preview data, timestamp, original URL (for invalidation)\n- TTL: 24 hours\n- On edit: clear cache for that specific link\n- Add manual 'refresh preview' button per link for cache invalidation\n\n**Implementation Notes:**\n- Check cache before fetching from Microlink API\n- If URL changed since cache, re-fetch\n- If cache expired (\u003e24h), re-fetch\n- Graceful fallback if localStorage unavailable\n\n**Acceptance Criteria:**\n- [ ] Previews load from cache on page refresh (instant)\n- [ ] Cache automatically invalidates when link URL is edited\n- [ ] Manual refresh button available per link\n- [ ] Cache respects 24h TTL\n- [ ] Works with existing batch fetching logic\n- [ ] Handles localStorage quota exceeded gracefully","status":"closed","priority":1,"issue_type":"feature","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-01T01:18:56.5444992+07:00","created_by":"ayamkv","updated_at":"2026-02-04T01:56:09.3417026+07:00","closed_at":"2026-02-04T01:56:09.3417026+07:00","close_reason":"Implemented localStorage caching for Microlink previews"}
{"id":"sptfyin-0me","title":"Implement Bulk Add API with Free Tier Limits","description":"Create bulk add functionality allowing users to create multiple links at once, with free tier restrictions.\n\nBackend Tasks:\n- Create bulk add API endpoint\n- Accept up to 3 links per request for free plan users\n- Reject requests exceeding the limit with clear error message\n- Validate all URLs before creating\n- Associate links with authenticated user\n\nFrontend Tasks:\n- Create bulk add UI (form with multiple URL inputs)\n- Disable CSV import for free tier (future paid feature)\n- Show error toast if user exceeds free-tier limit\n- Display progress/success feedback","status":"open","priority":1,"issue_type":"feature","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-01-31T22:20:00.7956733+07:00","created_by":"ayamkv","updated_at":"2026-01-31T22:36:52.0338047+07:00"}
{"id":"sptfyin-0pj","title":"[task] Implement CSV Import/Export \u0026 REST API for Pro","description":"Build CSV functionality and REST API for Pro users to manage links programmatically.\n\n**CSV Import:**\n- Template download button (shows expected format)\n- Supported columns:\n  - from (required): Spotify URL\n  - id_url (optional): Custom slug\n  - subdomain (optional): artist/playlist/track/etc\n- Validation:\n  - Check Spotify URL validity\n  - Check slug uniqueness\n  - Max 50 links per import (Pro limit)\n- Progress indicator for large imports\n- Error reporting (row-by-row feedback)\n\n**CSV Export:**\n- Export all user's links with metadata:\n  - id_url, from, subdomain, created date, view count, status\n- Optional filters: date range, enabled/disabled\n- Date range selection\n- Download as .csv file\n\n**REST API Design:**\n**Authentication:**\n- API Key in header: \n- Generate/rotate keys in dashboard settings\n\n**Endpoints:**\n\n\n**Rate Limiting:**\n- 1000 requests/day per API key\n- 100 requests/minute burst\n- Track usage in api_usage_logs collection\n\n**Documentation:**\n- API documentation page (/docs/api)\n- Code examples (cURL, JavaScript, Python)\n- Postman collection download\n- Webhook documentation (future)\n\n**Security:**\n- API keys encrypted in database\n- Rate limiting per key\n- IP allowlisting (optional, future feature)\n- Request logging for audit\n\n**Testing:**\n- CSV import with 50 links works\n- CSV export includes all data\n- All API endpoints functional\n- Rate limiting enforced\n\n**Acceptance Criteria:**\n- [ ] CSV import works with template (max 50 links)\n- [ ] CSV export includes all link metadata\n- [ ] All 7 API endpoints functional\n- [ ] API key authentication working\n- [ ] Rate limiting enforced (1000/day, 100/min)\n- [ ] Documentation page created","status":"open","priority":1,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-01T00:58:30.9329105+07:00","created_by":"ayamkv","updated_at":"2026-02-01T00:58:30.9329105+07:00"}
{"id":"sptfyin-1bi","title":"Add card/list view toggle for dash/links","description":"Add a toggle in dash/links to switch between two view modes:\n\n**Card View (current default):**\n- Shows album art, title, subtitle, type\n- Rich preview with accent colors\n- Takes more vertical space\n\n**List View (compact):**\n- Minimal row-based layout\n- Just shows: short URL, original URL (truncated), click count\n- More links visible at once\n- Faster for power users managing many links\n\n**Implementation Notes:**\n- Store preference in localStorage\n- Toggle button in header area (near refresh button)\n- Smooth transition between views\n- Both views should support existing features (edit, delete, copy, bulk select)\n\n**Acceptance Criteria:**\n- [ ] Toggle button switches between card/list views\n- [ ] Preference persists in localStorage\n- [ ] List view shows essential info in compact rows\n- [ ] All actions work in both views (edit, delete, copy, select)\n- [ ] Responsive design for both views","status":"in_progress","priority":2,"issue_type":"feature","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-04T02:24:32.3430582+07:00","created_by":"ayamkv","updated_at":"2026-02-04T02:25:49.354323+07:00"}
{"id":"sptfyin-247","title":"Update AGENTS.md with beads workflow integration","description":"Add beads commands to the Landing the Plane workflow in AGENTS.md. Include bd sync in the mandatory push workflow and document how to use beads for issue tracking during development sessions.","status":"closed","priority":2,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-01-31T18:34:40.0056477+07:00","created_by":"ayamkv","updated_at":"2026-01-31T18:35:39.0780125+07:00","closed_at":"2026-01-31T18:35:39.0780125+07:00","close_reason":"Closed"}
{"id":"sptfyin-3zw","title":"Run quality gates after recent changes","description":"Run pnpm build and pnpm lint to verify code quality after implementing spotify.link expansion and other recent changes. Fix any errors that arise.","status":"open","priority":1,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-01-31T18:34:37.1980087+07:00","created_by":"ayamkv","updated_at":"2026-01-31T18:34:37.1980087+07:00"}
{"id":"sptfyin-4na","title":"Build Admin/Owner Panel for Platform Monitoring","description":"Create an admin dashboard for platform owners to monitor traffic, manage users, and track system health before Pro launch.\n\n**Scope:** Owner/Developer admin panel (not user-facing)\n\n**Priority Features:**\n\n**1. Traffic \u0026 Usage Metrics**\n- Total links created (daily/weekly/monthly trends)\n- Total clicks across all links\n- Peak traffic times visualization\n- Content type breakdown (track vs album vs playlist vs artist)\n- Geographic distribution of clicks\n- New user signups (OAuth)\n- Active users (last 7/30 days)\n\n**2. Administrative Tools**\n- User management list (search, filter, view details)\n- Link moderation (flag inappropriate content)\n- User support lookup (find user by email/username)\n- Manual plan tier adjustments (for support/comp issues)\n- Bulk operations for support tasks\n\n**3. System Health Monitoring**\n- API endpoint response times (avg/p95/p99)\n- Error rates by endpoint\n- Database size and growth rate\n- Microlink API quota usage/limits\n- Paddle webhook delivery logs\n- Failed payment tracking\n- Recent system errors/logs\n\n**Out of Scope (Future):**\n- Revenue/business metrics (MRR, LTV, churn) - to be added after Pro launch\n- VPS/server infrastructure monitoring (discuss separately)\n\n**Technical Implementation:**\n- Route: /@/admin (protected, superuser only)\n- Access control: Check pb.authStore.isSuperuser\n- Data sources:\n  - PocketBase collections: random_short, analytics, users\n  - Aggregated queries for metrics\n  - System logs from pb_logs if available\n- Visualization: Charts for trends (Chart.js or similar)\n- Real-time: Optional polling every 30s for live data\n\n**Security Considerations:**\n- Strict superuser access only\n- No sensitive user data exposed in logs\n- Audit trail for admin actions\n- Rate limit admin API endpoints\n\n**Acceptance Criteria:**\n- [ ] Admin panel accessible only to superusers at /@/admin\n- [ ] Traffic metrics dashboard with time-series charts\n- [ ] User management interface with search/filter\n- [ ] System health overview with key metrics\n- [ ] Link moderation capability (flag/delete inappropriate)\n- [ ] Error log viewer with filtering\n- [ ] Mobile-responsive layout for on-the-go monitoring","status":"open","priority":2,"issue_type":"feature","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-01T01:48:38.1994728+07:00","created_by":"ayamkv","updated_at":"2026-02-01T01:48:38.1994728+07:00"}
{"id":"sptfyin-5gu","title":"Test Microlink URL expansion implementation","description":"Verify the two-step Microlink API approach works correctly for expanding spotify.link URLs. Test with real spotify.link URLs and ensure final open.spotify.com URLs are extracted properly.","status":"open","priority":1,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-01-31T18:34:35.3272286+07:00","created_by":"ayamkv","updated_at":"2026-01-31T18:34:35.3272286+07:00"}
{"id":"sptfyin-5qc","title":"Implement analytics data retention strategy (Free: 30 days, Pro: unlimited)","description":"Add data retention policy for analytics records based on plan tier, with improved pagination.\n\n**Current Problem:**\n- Analytics table grows infinitely (one record per click)\n- No cleanup policy causes storage bloat and slow queries\n- Client-side pagination loads all records into memory (bad for popular links)\n\n**Proposed Solution:**\n\n**1. Data Retention by Tier:**\n- Guest links: 5 clicks only (aggregate, no individual records)\n- Free users: 30 days of detailed analytics, then auto-delete\n- Pro users: Unlimited retention (or 1 year minimum)\n\n**2. Automated Cleanup:**\n- Daily cron job to delete expired analytics records\n- Query: DELETE FROM analytics WHERE created \u003c NOW() - INTERVAL '30 days' AND link_owner_plan = 'free'\n- Archive option for Pro users (export before deletion if needed)\n\n**3. Improved Pagination:**\n- Server-side pagination instead of client-side slicing\n- Use PocketBase perPage/page parameters\n- Add date range filter (Last 7 days, 30 days, All time)\n- Cursor-based pagination for better performance\n\n**Database Changes:**\n\n\n**Background Job:**\n- Schedule daily cleanup via pb_hooks or external cron\n- Soft delete first (mark as archived), hard delete after 7 days\n- Log cleanup statistics\n\n**UI Updates:**\n- Show retention info in analytics dashboard\n- Warning banner for Free users: Analytics","status":"open","priority":1,"issue_type":"feature","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-01T01:19:13.0795119+07:00","created_by":"ayamkv","updated_at":"2026-02-01T01:19:13.0795119+07:00"}
{"id":"sptfyin-5v0","title":"Audit codebase for Svelte 5 runes compliance","description":"Check that all components use Svelte 5 runes (, , ) instead of legacy let/export let patterns. Per AGENTS.md: 'Svelte 5 only: Use (), (), () runes - NO let/export let'","status":"open","priority":2,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-01-31T18:34:50.0142282+07:00","created_by":"ayamkv","updated_at":"2026-01-31T18:34:50.0142282+07:00"}
{"id":"sptfyin-67r","title":"[epic] Implement Monetization \u0026 Pro Tier System","description":"Complete monetization implementation with three-tier system: Guest (anonymous), Free (account), and Pro (paid subscription).\n\n**Pricing:**\n- Monthly:  USD/month\n- Annual Early Supporter: 0 USD/year (first 100 users)\n- Annual Regular: 5 USD/year\n- Payment Provider: Paddle (Indonesia available, merchant of record)\n\n**Dependencies:**\n- All implementation tasks must be completed\n- Critical path: Guest restrictions → Paddle setup → Feature gating → Watermark system\n\n**Acceptance Criteria:**\n- [ ] Guest plan fully restricted (no dashboard, 5-click analytics)\n- [ ] Paddle checkout working with webhook integration\n- [ ] Tier-based feature gating operational\n- [ ] Pro features unlocked after subscription (bulk 50, CSV, API, advanced analytics)\n- [ ] Watermark system implemented for Free tier public profiles\n- [ ] Rate limiting by tier functional\n- [ ] Early Supporter pricing configured for first 100 subscribers","status":"open","priority":0,"issue_type":"epic","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-01T00:57:42.2931479+07:00","created_by":"ayamkv","updated_at":"2026-02-01T00:57:42.2931479+07:00","dependencies":[{"issue_id":"sptfyin-67r","depends_on_id":"sptfyin-89h","type":"blocks","created_at":"2026-02-01T00:59:23.5801716+07:00","created_by":"ayamkv"},{"issue_id":"sptfyin-67r","depends_on_id":"sptfyin-vh9","type":"blocks","created_at":"2026-02-01T00:59:24.1567462+07:00","created_by":"ayamkv"},{"issue_id":"sptfyin-67r","depends_on_id":"sptfyin-w78","type":"blocks","created_at":"2026-02-01T00:59:24.4356048+07:00","created_by":"ayamkv"},{"issue_id":"sptfyin-67r","depends_on_id":"sptfyin-n5e","type":"blocks","created_at":"2026-02-01T00:59:24.7142965+07:00","created_by":"ayamkv"},{"issue_id":"sptfyin-67r","depends_on_id":"sptfyin-0pj","type":"blocks","created_at":"2026-02-01T00:59:24.8988905+07:00","created_by":"ayamkv"},{"issue_id":"sptfyin-67r","depends_on_id":"sptfyin-pxt","type":"blocks","created_at":"2026-02-01T00:59:25.0912607+07:00","created_by":"ayamkv"}]}
{"id":"sptfyin-6al","title":"Consider feature flag system for hiding WIP features","description":"Track for future implementation:\n- Environment-based feature visibility\n- Could use simple env var checks or more sophisticated feature flag service\n- Currently doing this manually by hiding /dash routes\n- Low priority, revisit after CI/CD is complete","status":"open","priority":3,"issue_type":"feature","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-03T20:07:07.4465348+07:00","created_by":"ayamkv","updated_at":"2026-02-03T20:07:07.4465348+07:00"}
{"id":"sptfyin-6ir","title":"Verify error handling patterns across codebase","description":"Ensure all async operations use try/catch blocks and display errors via AlertDialog with title/description/icon pattern. Check that toast notifications use svelte-sonner for success states. Per AGENTS.md error handling guidelines.","status":"open","priority":2,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-01-31T18:34:54.4066086+07:00","created_by":"ayamkv","updated_at":"2026-01-31T18:34:54.4066086+07:00"}
{"id":"sptfyin-7q7","title":"Add docker-compose.yml to repo with secret substitution","description":"Move docker-compose.yml to repo root with:\n- Updated volume paths: ./pocketbase/pb_hooks:/pb_hooks\n- Environment variable substitution: ${CF_SECRET_KEY}\n- Add .env.example as template\n- Add .env to .gitignore\n\nThis enables docker-compose config to be version controlled without exposing secrets.","status":"closed","priority":1,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-03T20:34:47.7722317+07:00","created_by":"ayamkv","updated_at":"2026-02-04T01:16:00.2479248+07:00","closed_at":"2026-02-04T01:16:00.2479248+07:00","close_reason":"Completed - docker-compose.yml with ${CF_SECRET_KEY} env var substitution"}
{"id":"sptfyin-89h","title":"[task] Implement Guest Plan Restrictions","description":"Restrict features for anonymous users without accounts (Guest tier).\n\n**Backend Changes:**\n- Detect anonymous users (no auth session)\n- Block dashboard access (redirect to login page)\n- Limit analytics to 5 total clicks per link only\n- Store analytics in aggregate form only (no individual click tracking)\n- Implement strict rate limiting (5 links/hour, 20 links/day per IP)\n\n**Frontend Changes:**\n- Hide dashboard navigation for unauthenticated users\n- Show login prompt on dashboard route\n- Limit stats page to show only 5","status":"open","priority":0,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-01T00:57:57.0845131+07:00","created_by":"ayamkv","updated_at":"2026-02-01T00:57:57.0845131+07:00"}
{"id":"sptfyin-938","title":"Implement PocketBase realtime subscription for recent links on main page","description":"Add realtime updates to the recent links section on the homepage using PocketBase subscriptions.\n\n**Current Problem:**\n- Recent links only fetch on initial page load\n- Users must refresh to see new links created by others\n- No 'live' feeling for a link shortener service\n\n**Proposed Solution:**\n- Subscribe to viewList collection changes via PocketBase realtime\n- On new link created: prepend to records array, limit to 4 items\n- On link deleted: remove from array\n- Handle subscription cleanup on page destroy\n- Show subtle animation when new link appears\n\n**Technical Implementation:**\n\n\n**Considerations:**\n- Verify viewList collection has realtime enabled in PocketBase\n- Handle auth if viewList has restrictions\n- Debounce UI updates to prevent jank\n- Consider visibilityState to pause updates when tab hidden\n\n**Acceptance Criteria:**\n- [ ] New links appear instantly without page refresh\n- [ ] Subscription cleanup works properly (no memory leaks)\n- [ ] Animation/transition for new link appearance\n- [ ] Works with existing pagination/total count display\n- [ ] Handles reconnection if WebSocket drops","status":"open","priority":1,"issue_type":"feature","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-01T01:19:03.5622427+07:00","created_by":"ayamkv","updated_at":"2026-02-01T01:19:03.5622427+07:00"}
{"id":"sptfyin-9k1","title":"Dashboard UI Enhancements and Improvements","description":"Improve dashboard UX with sorting, QR codes, and better navigation.\n\nUI/UX Improvements:\n- Adjust date icon alignment to center with text\n- Add QR code button next to copy button for each link\n- Add sorting system (Newest to Oldest, Slug A-Z, and vice versa)\n- Implement infinite scroll for large link collections (replace Load More)\n\nNavigation \u0026 Interaction:\n- Redirect to /[slug]/s route when clicking stats icon on each link\n- Ensure smooth transitions and loading states\n\nTechnical Notes:\n- Use existing pagination as basis for infinite scroll\n- Maintain current responsive design patterns","status":"open","priority":2,"issue_type":"feature","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-01-31T22:20:01.0038595+07:00","created_by":"ayamkv","updated_at":"2026-01-31T22:36:54.3353543+07:00"}
{"id":"sptfyin-9lf","title":"Migrate from PocketBase to Cloudflare D1/KV","description":"Move database infrastructure from PocketBase to Cloudflare D1/KV for zero VM hosting costs.\n\nPhase 1 - Data Migration:\n- Export data.db from pb_data\n- Use sqlite3 CLI to dump database\n- Clean up dump file (remove transactions if needed)\n- Import to D1 via wrangler CLI\n\nPhase 2 - Code Rewrite:\n- Rewrite all CRUD logic (consider Drizzle ORM)\n- Rethink Turnstile verification (currently via PB Hooks)\n- Update analytics tracking logic\n- Ensure data integrity during migration\n\nInfrastructure:\n- Set up Cloudflare Workers\n- Configure D1 database\n- Set up KV for caching if needed\n- Update deployment pipeline","status":"open","priority":2,"issue_type":"epic","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-01-31T22:20:01.86597+07:00","created_by":"ayamkv","updated_at":"2026-01-31T22:36:59.831758+07:00"}
{"id":"sptfyin-9m5","title":"Document common local dev setup issues","description":"Add troubleshooting section to DEVELOPMENT.md for common issues: localhost vs 127.0.0.1 redirect URI problem, PocketBase connection refused, hooks not loading, schema import failures.","status":"open","priority":3,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-01-31T18:34:52.3240305+07:00","created_by":"ayamkv","updated_at":"2026-01-31T18:34:52.3240305+07:00"}
{"id":"sptfyin-9rx","title":"Create GitHub Actions workflow for PR quality gates","description":"Set up .github/workflows/pr-check.yml to run on pull requests:\n- pnpm install\n- pnpm lint\n- pnpm build\n- Configure branch protection to require passing checks","status":"closed","priority":1,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-03T19:49:54.5761958+07:00","created_by":"ayamkv","updated_at":"2026-02-04T01:16:01.6910659+07:00","closed_at":"2026-02-04T01:16:01.6910659+07:00","close_reason":"Completed - pr-check.yml workflow for lint + build on PRs"}
{"id":"sptfyin-ack","title":"[epic] Implement CI/CD and Deployment Automation","description":"Streamline development workflow with automated CI/CD pipeline.\n\n**Goals:**\n1. Checkpoint commit system to prevent lost work\n2. PR-based workflow with quality gates\n3. Automated PocketBase deployment to VPS on merge to main\n4. Unified frontend+backend deployment\n\n**Current State:**\n- No GitHub Actions\n- No PR workflow (direct branch pushes)\n- Manual VPS deployment\n- Cloudflare Pages auto-deploys frontend on push to main\n\n**Target State:**\n- GitHub Actions for lint/build on PR\n- Squash-merge PRs to main for clean history\n- Auto-deploy PocketBase (Docker Compose) via SSH on merge to main\n- Coordinated frontend+backend releases","status":"open","priority":1,"issue_type":"epic","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-03T19:49:47.742534+07:00","created_by":"ayamkv","updated_at":"2026-02-03T19:49:47.742534+07:00","dependencies":[{"issue_id":"sptfyin-ack","depends_on_id":"sptfyin-kto","type":"blocks","created_at":"2026-02-03T19:50:02.6339935+07:00","created_by":"ayamkv"},{"issue_id":"sptfyin-ack","depends_on_id":"sptfyin-9rx","type":"blocks","created_at":"2026-02-03T19:50:03.141346+07:00","created_by":"ayamkv"},{"issue_id":"sptfyin-ack","depends_on_id":"sptfyin-qpf","type":"blocks","created_at":"2026-02-03T19:50:03.6199985+07:00","created_by":"ayamkv"},{"issue_id":"sptfyin-ack","depends_on_id":"sptfyin-d3p","type":"blocks","created_at":"2026-02-03T19:50:04.1138464+07:00","created_by":"ayamkv"},{"issue_id":"sptfyin-ack","depends_on_id":"sptfyin-n11","type":"blocks","created_at":"2026-02-03T20:07:19.163538+07:00","created_by":"ayamkv"}]}
{"id":"sptfyin-d3p","title":"Document PR workflow and release process","description":"Add documentation for:\n- When to create PRs\n- PR description template (for changelog)\n- Squash merge policy\n- How deployment is triggered\n- Rollback procedures if needed","status":"open","priority":2,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-03T19:49:58.5269943+07:00","created_by":"ayamkv","updated_at":"2026-02-03T19:49:58.5269943+07:00"}
{"id":"sptfyin-dqg","title":"Verify bulk delete feature is production-ready","description":"Bulk delete feature is implemented in dash/links with max 5 limit. Need to verify it's working correctly and test edge cases.","status":"open","priority":2,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-01-31T18:21:54.6516986+07:00","created_by":"ayamkv","updated_at":"2026-01-31T18:21:54.6516986+07:00"}
{"id":"sptfyin-eeb","title":"Implement Playlist Link Creation from Spotify","description":"Allow users to import their Spotify playlists and create short links for them.\n\nBackend Tasks:\n- Fetch user playlists from Spotify API after OAuth\n- Create API endpoint to list user's playlists\n- Allow creating short links from selected playlists\n\nFrontend Tasks:\n- Add Import from Spotify modal in dashboard\n- List playlists with checkbox/select UI\n- Button to generate short links for selected playlists\n- Handle loading states and errors gracefully","status":"open","priority":1,"issue_type":"feature","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-01-31T22:19:42.2091637+07:00","created_by":"ayamkv","updated_at":"2026-01-31T22:36:48.2192059+07:00"}
{"id":"sptfyin-ifg","title":"Advanced Analytics Dashboard (Referrer, Geo, UTM)","description":"Build comprehensive analytics system for link performance tracking.\n\nFeatures to Implement:\n- Referrer tracking (where traffic is coming from)\n- Geo heatmaps (aggregated region/city data, not just countries)\n- UTM parameter support (to measure campaign success)\n- Click timeline graph (to see when spikes happen)\n- Export data to CSV functionality\n\nBackend Tasks:\n- Extend analytics data collection\n- Store referrer, geo, and UTM data\n- Create aggregation endpoints for heatmaps and timelines\n- CSV export endpoint\n\nFrontend Tasks:\n- Analytics dashboard with charts and visualizations\n- Date range filtering\n- CSV download button\n- Responsive chart layouts","status":"open","priority":2,"issue_type":"feature","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-01-31T22:20:01.203289+07:00","created_by":"ayamkv","updated_at":"2026-01-31T22:36:56.7704442+07:00"}
{"id":"sptfyin-k3p","title":"Refactor routing to /@/ prefix for app routes with /u/ exception","description":"Restructure application routes to use /@/ prefix to avoid conflicts with short links, while keeping user profiles under clean /u/ URL.\n\n**Problem:**\n- Current routes (dash, about, admin) share namespace with short links\n- Risk: User creates link with slug dash → breaks dashboard\n- Protected routes list is hard to maintain and fragile\n\n**Proposed Solution:**\n\n**New Route Structure:**\n\n\n**Implementation:**\n\n**1. Update SvelteKit Routes:**\n- Rename  → \n- Rename  → \n- Rename  → \n- Keep  as-is\n- Keep root short link routes as-is\n\n**2. Update Navigation Links:**\n- Change all internal links from  to \n- Update navbar, footer, redirects\n- Update OAuth callback URLs\n\n**3. Protected Slugs Update:**\n- Add '@' to reserved slug characters (cannot be used in short links)\n- Simplify protected routes array - only need to protect '@' prefix\n- Remove individual route names from protection list\n\n**4. Redirects (for existing bookmarks):**\n- Add redirect from old routes to new:\n  -  → \n  -  → \n  -  → \n\n**Benefits:**\n- Clean separation between app and short links\n- User profiles stay at /u/ (shareable, clean URL)\n- Protected routes reduced to single character check\n- Future-proof for new app routes\n\n**Breaking Changes:**\n- Existing bookmarks to /dash/ will need redirect\n- OAuth redirect URLs need updating\n- Users with muscle memory for URLs\n\n**Acceptance Criteria:**\n- [ ] All app routes moved to /@/ prefix\n- [ ] User profiles remain at /u/[username]\n- [ ] Navigation updated throughout app\n- [ ] Redirects from old routes working\n- [ ] Protected slug validation updated\n- [ ] OAuth callback URLs updated\n- [ ] Sitemap/SEO updated if applicable","status":"open","priority":1,"issue_type":"feature","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-01T01:28:50.3143484+07:00","created_by":"ayamkv","updated_at":"2026-02-01T01:28:50.3143484+07:00"}
{"id":"sptfyin-kto","title":"Update AGENTS.md with checkpoint commit guidelines","description":"Add guidelines for checkpoint commits to prevent lost work during long sessions:\n- When to commit (time/file thresholds)\n- Commit naming conventions (wip:, checkpoint:, feat:, etc.)\n- Mandatory commit before context switching\n- Integration with beads workflow","status":"closed","priority":1,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-03T19:49:52.8172488+07:00","created_by":"ayamkv","updated_at":"2026-02-04T01:16:02.0454618+07:00","closed_at":"2026-02-04T01:16:02.0454618+07:00","close_reason":"Completed - AGENTS.md updated with checkpoint commit and deployment guidelines"}
{"id":"sptfyin-lx0","title":"Sync VPS migrations to repo (one-time)","description":"Copy all ~80 migration files from VPS backup (D:\\backup_vps\\pb-docker\\pb_migrations\\) to repo pocketbase/pb_migrations/.\n\nThis ensures the repo has complete schema history for proper deployments.","status":"closed","priority":1,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-03T20:34:45.4721702+07:00","created_by":"ayamkv","updated_at":"2026-02-04T01:15:59.47836+07:00","closed_at":"2026-02-04T01:15:59.47836+07:00","close_reason":"Completed - 122 PocketBase migrations synced from VPS to repo"}
{"id":"sptfyin-n11","title":"Document merge/release strategy in AGENTS.md","description":"Document the merge strategy evolution:\n\n**Current (large feature branch):**\n- Release-based merges\n- Merge feature/link-management when ready to ship\n- Main = production\n\n**Future (after current branch merged):**\n- Feature-complete → Create PR → Review → Squash merge → Delete branch\n- Smaller, focused feature branches\n- PRs trigger CI quality gates\n\nUpdate AGENTS.md with this guidance.","status":"open","priority":2,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-03T20:07:12.0162326+07:00","created_by":"ayamkv","updated_at":"2026-02-03T20:07:12.0162326+07:00"}
{"id":"sptfyin-n5e","title":"[task] Build Advanced Analytics Dashboard for Pro","description":"Create comprehensive analytics dashboard for Pro users with detailed insights.\n\n**Data Retention Strategy:**\n- Guest: 5 total clicks only (aggregate)\n- Free: 30-day rolling window, basic aggregations\n- Pro: 1-year retention, raw data + advanced aggregations\n\n**Analytics Collection:**\nExtend existing analytics collection to capture:\n- Referrer URL (where traffic came from)\n- UTM parameters (utm_source, utm_medium, utm_campaign)\n- Geo data: Country, Region, City (from IP geolocation)\n- Device info: Browser, OS, Device type\n- Timestamp with timezone\n\n**Dashboard Views:**\n1. **Overview Tab:**\n   - Total clicks (with trend line)\n   - Unique visitors\n   - Top referrers (pie chart)\n   - Top countries (bar chart)\n\n2. **Timeline Tab:**\n   - Click timeline graph (daily/weekly/monthly views)\n   - Peak hours analysis\n   - Date range picker (up to 1 year for Pro)\n\n3. **Geography Tab:**\n   - Interactive heatmap (city-level for Pro)\n   - Country breakdown table\n   - Regional performance metrics\n\n4. **UTM Tracking Tab:**\n   - Campaign performance table\n   - Source/Medium breakdown\n   - Conversion tracking (if applicable)\n\n5. **Devices Tab:**\n   - Browser breakdown\n   - OS distribution\n   - Mobile vs Desktop split\n\n**Technical Implementation:**\n- Use Chart.js or D3.js for visualizations\n- API endpoints for each analytics view\n- Aggregate data server-side to reduce payload\n- Cache expensive queries (Redis/memory)\n\n**Export Feature:**\n- CSV export button on each tab\n- Date range selection for export\n- All data points included\n\n**Testing:**\n- Verify data collection working\n- Verify 1-year retention for Pro\n- Verify 30-day limit for Free\n- Verify visualizations render correctly\n\n**Acceptance Criteria:**\n- [ ] Advanced analytics dashboard accessible to Pro only\n- [ ] All 5 tabs functional with real data\n- [ ] 1-year data retention working\n- [ ] CSV export functional\n- [ ] Visualizations responsive and performant\n- [ ] Data aggregation accurate","status":"open","priority":1,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-01T00:58:21.0484249+07:00","created_by":"ayamkv","updated_at":"2026-02-01T00:58:21.0484249+07:00"}
{"id":"sptfyin-nwh","title":"Create Public Profile Pages (/u/[username])","description":"Implement public profile pages where users can showcase their created links.\n\nBackend Tasks:\n- Create public profile endpoint /u/{username}\n- Fetch and display user's public links\n- Apply watermark flag for free tier users\n- Reserve /u/[username] route\n\nFrontend Tasks:\n- Design profile page template with basic theming\n- Display user's links in an organized grid/list\n- Show watermark always visible for free tier\n- Handle 404 for non-existent usernames","status":"open","priority":1,"issue_type":"feature","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-01-31T22:20:00.4586064+07:00","created_by":"ayamkv","updated_at":"2026-01-31T22:36:50.2397911+07:00"}
{"id":"sptfyin-psw","title":"Fix preview loader showing no content in dash/links","description":"The dash/links page shows skeleton loader but no text or image content appears for link previews. Need to investigate and fix the preview rendering logic.","status":"closed","priority":1,"issue_type":"bug","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-01-31T18:21:51.4131162+07:00","created_by":"ayamkv","updated_at":"2026-02-04T01:39:09.7137333+07:00","closed_at":"2026-02-04T01:39:09.7137333+07:00","close_reason":"Fixed boolean logic in fetchUrlPreview - was using OR instead of AND"}
{"id":"sptfyin-pxt","title":"[task] Add Watermark System \u0026 Custom Subdomain Management","description":"Implement watermarking for Free tier and subdomain management for all tiers.\n\n**Watermark System:**\n\n**Free Tier Watermarks:**\n1. **Public Profile:**\n   - Created","status":"open","priority":1,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-01T00:58:41.2094932+07:00","created_by":"ayamkv","updated_at":"2026-02-01T00:58:41.2094932+07:00"}
{"id":"sptfyin-qpf","title":"Create GitHub Actions workflow for PocketBase VPS deployment","description":"Set up .github/workflows/deploy.yml to run on merge to main:\n- SSH to VPS using stored secrets\n- Update PocketBase files (pb_migrations/, pb_hooks/)\n- Run migrations\n- Restart Docker Compose service\n- Health check\n\nRequires VPS Docker Compose setup review.","design":"**VPS Environment:**\n- Ubuntu VPS\n- PocketBase runs in Docker Compose at ~/pb-docker\n- Container: ghcr.io/muchobien/pocketbase:latest\n- Port mapping: 8091:8090\n- Health endpoint: /api/health\n\n**Deployment Strategy: Option B (Zero Downtime)**\n- docker-compose.yml tracked in repo with ${CF_SECRET_KEY} substitution\n- VPS has .env file with actual secret\n- Volume paths point to ./pocketbase/pb_hooks, ./pocketbase/pb_migrations\n- Sparse checkout: pocketbase/ and docker-compose.yml\n\n**Deployment Flow:**\n1. Push/merge to main triggers GitHub Action\n2. SSH to VPS using deploy key\n3. git pull origin main\n4. docker-compose up -d (reads new files, restarts if changed)\n5. Health check via curl\n\n**Secrets Needed:**\n- VPS_HOST\n- VPS_USER  \n- VPS_SSH_KEY (deploy key)\n\n**One-time VPS setup:**\n1. Create .env with CF_SECRET_KEY\n2. Init sparse checkout for pocketbase/ + docker-compose.yml\n3. Generate and configure deploy key","status":"closed","priority":1,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-03T19:49:56.9558774+07:00","created_by":"ayamkv","updated_at":"2026-02-04T01:16:00.9831876+07:00","closed_at":"2026-02-04T01:16:00.9831876+07:00","close_reason":"Completed - deploy.yml workflow for VPS deployment on push to main","dependencies":[{"issue_id":"sptfyin-qpf","depends_on_id":"sptfyin-lx0","type":"blocks","created_at":"2026-02-03T20:34:57.7757331+07:00","created_by":"ayamkv"},{"issue_id":"sptfyin-qpf","depends_on_id":"sptfyin-7q7","type":"blocks","created_at":"2026-02-03T20:34:58.3794795+07:00","created_by":"ayamkv"}]}
{"id":"sptfyin-vdx","title":"Complete spotify.link URL expansion feature","description":"Implement two-step Microlink API process to expand spotify.link and spotify.app.link URLs to open.spotify.com. API endpoint at /api/expand-url already rewritten using Microlink approach.","status":"open","priority":1,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-01-31T18:21:52.9634883+07:00","created_by":"ayamkv","updated_at":"2026-01-31T18:21:52.9634883+07:00"}
{"id":"sptfyin-vh9","title":"[task] Integrate Paddle Payment System","description":"Set up Paddle for subscription management with monthly and annual plans.\n\n**Paddle Setup:**\n- Create Paddle account and verify Indonesia availability\n- Create two products: Monthly () and Annual (0 early / 5 regular)\n- Configure webhook endpoint (/api/paddle/webhook)\n- Set up sandbox environment for testing\n\n**Database Schema Updates:**\n\n\n**Webhook Handlers:**\n- subscription.created: Activate Pro tier\n- subscription.updated: Handle upgrades/downgrades\n- subscription.cancelled: Mark for downgrading at period end\n- payment.succeeded: Confirm payment receipt\n- payment.failed: Handle dunning/retry logic\n\n**Frontend Integration:**\n- Add 'Upgrade to Pro' button in dashboard\n- Implement Paddle Checkout overlay\n- Success/cancel redirect pages\n- Show plan status in user profile\n\n**Security:**\n- Verify webhook signatures\n- Store API keys securely (encrypted)\n- Handle webhook idempotency\n\n**Acceptance Criteria:**\n- [ ] Paddle checkout works for both monthly and annual\n- [ ] Webhooks update user.plan_tier correctly\n- [ ] Subscription status tracked accurately\n- [ ] Payment failures handled gracefully\n- [ ] Early Supporter price available for first 100 subscribers","status":"open","priority":0,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-01T00:58:02.7088397+07:00","created_by":"ayamkv","updated_at":"2026-02-01T00:58:02.7088397+07:00"}
{"id":"sptfyin-w78","title":"[task] Build Feature Gating \u0026 Rate Limiting by Plan","description":"Implement middleware and component-level checks to restrict features based on plan tier.\n\n**Server-Side Middleware (pb_hooks/):**\n- Create checkPlanAccess() helper function\n- Tier values: guest=0, free=1, pro=2\n- Apply checks to API endpoints:\n  - /api/links/bulk (requires pro for \u003e3 links)\n  - /api/analytics/advanced (requires pro)\n  - /api/links/csv (requires pro)\n\n**Rate Limiting by Tier:**\n\n- Track by user ID (authenticated) or IP (guest)\n- Store in separate rate_limit_logs collection or Redis\n- Return 429 Too Many Requests with retry-after header\n\n**Frontend Component Gating:**\n\n- Create ProFeatureTeaser component with upgrade CTA\n- Show 'Pro' badges on restricted features\n- Disable buttons with tooltip explaining requirement\n\n**API Rate Limiting:**\n- 1000 requests/day for Pro API keys\n- 100 requests/minute burst limit\n- Track in database with api_usage_logs collection\n\n**Testing:**\n- Verify guest cannot access dashboard\n- Verify free user limited to 3 bulk operations\n- Verify pro user gets 50 bulk operations\n- Verify rate limits enforced correctly\n\n**Acceptance Criteria:**\n- [ ] All API endpoints check plan tier before executing\n- [ ] Rate limiting working by tier (guest/free/pro)\n- [ ] Frontend shows upgrade prompts for restricted features\n- [ ] API keys properly rate limited\n- [ ] Error messages clear about plan requirements","status":"open","priority":1,"issue_type":"task","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-02-01T00:58:13.5080597+07:00","created_by":"ayamkv","updated_at":"2026-02-01T00:58:13.5080597+07:00"}
{"id":"sptfyin-ww3","title":"Create Public Changelog and Version System","description":"Implement a changelog system to keep users informed about updates and new features.\n\nIdeas:\n- Public changelog page (/changelog or /updates)\n- Version number display in footer or about page\n- What's New modal/banner for returning users\n- Markdown-based changelog file for easy updates\n- Consider using GitHub releases as source of truth\n\nImplementation:\n- Design clean, readable changelog page\n- Parse markdown changelog file\n- Show version history with dates\n- Highlight new features vs bug fixes vs improvements\n- Optional: New feature badges for recent updates","status":"open","priority":3,"issue_type":"feature","owner":"65036385+ayamkv@users.noreply.github.com","created_at":"2026-01-31T22:20:02.2900731+07:00","created_by":"ayamkv","updated_at":"2026-01-31T22:37:02.8946754+07:00"}
